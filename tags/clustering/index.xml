<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Clustering on Sonia Hamilton - Blog</title>
    <link>http://www.snowfrog.net/tags/clustering/</link>
    <description>Recent content in Clustering on Sonia Hamilton - Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 06 Jul 2011 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://www.snowfrog.net/tags/clustering/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Clustering setup</title>
      <link>http://www.snowfrog.net/2011/07/06/clustering-setup/</link>
      <pubDate>Wed, 06 Jul 2011 00:00:00 +0000</pubDate>
      
      <guid>http://www.snowfrog.net/2011/07/06/clustering-setup/</guid>
      <description>&lt;p&gt;A nice &lt;a href=&#34;http://lists.slug.org.au/archives/slug/2011/06/msg00014.html&#34;&gt;post&lt;/a&gt; from Jake on the SLUG list where he asks about a small clustering setup:&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  I&#39;m setting up some new hardware for a client of mine. Basically 2 new &lt;a href=&#34;http://www.dell.com/au/business/p/poweredge-r210-2/pd&#34;&gt;Dell PowerEdge R210 IIs&lt;/a&gt; -- nice and small and they seem quiet enough for an office (unlike the original R210). Anyway, quad core xeon, 2x 1Tb 7200RPM drives, 8gb ram (~$1500 each btw). The machines will be used as VM hosts (&lt;a href=&#34;http://www.linux-kvm.org/page/Main_Page&#34;&gt;kvm&lt;/a&gt;) for a handfull of guests, file/domain server (&lt;a href=&#34;http://www.zentyal.org/&#34;&gt;ebox&lt;/a&gt;), PBX (&lt;a href=&#34;http://pbxinaflash.net/&#34;&gt;piaf&lt;/a&gt;), mail server web server, &#34;magic windows only application&#34; server etc. As the guests run everything in the ofice some kind of HA is needed.
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  I&#39;m thinking &lt;a href=&#34;http://code.google.com/p/ganeti/&#34;&gt;ganeti&lt;/a&gt; is the way to manage it all as it takes care of &lt;a href=&#34;http://www.drbd.org/&#34;&gt;DRBD&lt;/a&gt; and failover giving me a nice HA-ish setup without too much work.
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  The questions. How should I setup my disks?
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  I&#39;m tossing up between, (all the below assume a small raid 1 partition for /, this is for the storage pool) RAID 1 with mdadm giving me 1 disk read speed but the ability to read 2 streams. RAID 1 with mdadm and fancyness giving me 2x read speed for a single stream, but normal behaviour for multiple streams and 1x write.
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  RAID 0 with mdadm 2x read, 2x write and trust DRBD to look after my data ;-&gt;
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  no RAID, set up as 2 separate drives use DRBD to look after data and get &#34;more spindles&#34; into the mix (so say file server lives on one disk and mail server on another)
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  What deb based distro should I use for my host (or present a *really* compelling argument for something else)? I would use ubuntu as i&#39;m most familiar with it but the recent debacle with unity has really hurt my confidence with them.
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  Should i go to debian and if so which version?
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  Networking&lt;br /&gt; each server has 2 gbit ports on it.&lt;br /&gt; should I&lt;br /&gt; team the nics, then run a vlan for drbd and another for regular coms&lt;br /&gt; dedicated nic for drbd and one for general coms.
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  Any other suggestions or gotchas to look out for?
&lt;/p&gt;

&lt;p style=&#34;padding-left:30px;&#34;&gt;
  I have my own answers to these questions, but I&#39;d really like to hear any advice from the crowd (its like &#34;the cloud&#34; but open source and P2P ;-&gt;)
&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>