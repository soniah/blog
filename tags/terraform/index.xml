<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Terraform on Sonia Hamilton - Blog</title>
    <link>http://www.snowfrog.net/tags/terraform/</link>
    <description>Recent content in Terraform on Sonia Hamilton - Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 13 Jan 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://www.snowfrog.net/tags/terraform/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Terraform Presentation</title>
      <link>http://www.snowfrog.net/2015/01/13/terraform-presentation/</link>
      <pubDate>Tue, 13 Jan 2015 00:00:00 +0000</pubDate>
      
      <guid>http://www.snowfrog.net/2015/01/13/terraform-presentation/</guid>
      <description>&lt;p&gt;Here are the slides from my Terrraform presentation at the Sydney Puppet Meetup.&lt;/p&gt;

&lt;iframe src=&#34;//www.slideshare.net/slideshow/embed_code/43462586&#34;
width=&#34;476&#34; height=&#34;400&#34; frameborder=&#34;0&#34; marginwidth=&#34;0&#34;
marginheight=&#34;0&#34; scrolling=&#34;no&#34;&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>Building the development version of Terraform</title>
      <link>http://www.snowfrog.net/2014/12/03/building-the-development-version-of-terraform/</link>
      <pubDate>Wed, 03 Dec 2014 00:00:00 +0000</pubDate>
      
      <guid>http://www.snowfrog.net/2014/12/03/building-the-development-version-of-terraform/</guid>
      <description>&lt;p&gt;Instructions on how to build the development version of &lt;a href=&#34;https://www.terraform.io/&#34;&gt;Terraform&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;First you need to install &lt;a href=&#34;http://en.wikipedia.org/wiki/Go_%28programming_language%29&#34;&gt;Go&lt;/a&gt;, I have a script for this that would be easy to adapt for your needs. It installs Go, but also downloads some common projects (&lt;a href=&#34;https://github.com/jteeuwen/go-bindata&#34;&gt;go-bindata&lt;/a&gt;, &lt;a href=&#34;https://github.com/jteeuwen/go-bindata&#34;&gt;lint&lt;/a&gt;) and my own projects (&lt;a href=&#34;https://github.com/soniah/gosnmp&#34;&gt;gosnmp&lt;/a&gt;, &lt;a href=&#34;https://github.com/soniah/evaler&#34;&gt;evaler&lt;/a&gt;).&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #75715e&#34;&gt;#!/bin/bash&lt;/span&gt;

&lt;span style=&#34;color: #75715e&#34;&gt;## install go&lt;/span&gt;

&lt;span style=&#34;color: #f8f8f2&#34;&gt;tgz&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;go1.3.3.linux-amd64.tar.gz
&lt;span style=&#34;color: #f8f8f2&#34;&gt;url&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;https://storage.googleapis.com/golang/&lt;span style=&#34;color: #f8f8f2&#34;&gt;$tgz&lt;/span&gt;

&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; ! &lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt; -f /var/tmp/&lt;span style=&#34;color: #f8f8f2&#34;&gt;$tgz&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; /var/tmp
	wget &lt;span style=&#34;color: #f8f8f2&#34;&gt;$url&lt;/span&gt;
&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;

&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; ! &lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt; -d /usr/local/go &lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
	sudo tar -C /usr/local -xzf /var/tmp/&lt;span style=&#34;color: #f8f8f2&#34;&gt;$tgz&lt;/span&gt;
&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;

&lt;span style=&#34;color: #75715e&#34;&gt;## setup dev directory structure&lt;/span&gt;

mkdir -p ~/go/&lt;span style=&#34;color: #f92672&#34;&gt;{&lt;/span&gt;sonia,thirdparty&lt;span style=&#34;color: #f92672&#34;&gt;}&lt;/span&gt;/&lt;span style=&#34;color: #f92672&#34;&gt;{&lt;/span&gt;bin,pkg,src&lt;span style=&#34;color: #f92672&#34;&gt;}&lt;/span&gt;

&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; ~/go/thirdparty/src
&lt;span style=&#34;color: #75715e&#34;&gt;#---------------------&lt;/span&gt;

&lt;span style=&#34;color: #f8f8f2&#34;&gt;read&lt;/span&gt; -p &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;Install third party repos? (go-bindata, lint)&amp;quot;&lt;/span&gt;
&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;[[&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;$REPLY&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;~ ^&lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt;Yy&lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ &lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;]]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; ! &lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt; -d github.com/jteeuwen/go-bindata &lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
		go get github.com/jteeuwen/go-bindata/...
		cp ~/go/thirdparty/bin/go-bindata ~/bin
	&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;

	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; ! &lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt; -d github.com/golang/lint &lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
		go get github.com/golang/lint/golint
		cp ~/go/thirdparty/bin/golint ~/bin
	&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;

&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; ~/go/sonia/src
&lt;span style=&#34;color: #75715e&#34;&gt;#----------------&lt;/span&gt;

&lt;span style=&#34;color: #f8f8f2&#34;&gt;read&lt;/span&gt; -p &lt;span style=&#34;color: #e6db74&#34;&gt;&amp;quot;Install soniah repos? (gosnmp, evaler)&amp;quot;&lt;/span&gt;
&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;[[&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;$REPLY&lt;/span&gt; &lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;~ ^&lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt;Yy&lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ &lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;]]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
	&lt;span style=&#34;color: #75715e&#34;&gt;# do &amp;#39;git clone&amp;#39; not &amp;#39;go get&amp;#39; so origin is writeable&lt;/span&gt;
	&lt;span style=&#34;color: #f8f8f2&#34;&gt;dir&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;github.com/soniah
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; ! &lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt; -d &lt;span style=&#34;color: #f8f8f2&#34;&gt;$dir&lt;/span&gt;/evaler &lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
		mkdir -p &lt;span style=&#34;color: #f8f8f2&#34;&gt;$dir&lt;/span&gt;
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;$dir&lt;/span&gt;
		git clone git@github.com:soniah/evaler.git
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; -
	&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;

	&lt;span style=&#34;color: #f8f8f2&#34;&gt;dir&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;github.com/soniah
	&lt;span style=&#34;color: #66d9ef&#34;&gt;if&lt;/span&gt; ! &lt;span style=&#34;color: #f92672&#34;&gt;[&lt;/span&gt; -d &lt;span style=&#34;color: #f8f8f2&#34;&gt;$dir&lt;/span&gt;/gosnmp &lt;span style=&#34;color: #f92672&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #66d9ef&#34;&gt;then&lt;/span&gt;
		mkdir -p &lt;span style=&#34;color: #f8f8f2&#34;&gt;$dir&lt;/span&gt;
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; &lt;span style=&#34;color: #f8f8f2&#34;&gt;$dir&lt;/span&gt;
		git clone git@github.com:soniah/gosnmp.git
		&lt;span style=&#34;color: #f8f8f2&#34;&gt;cd&lt;/span&gt; -
	&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;span style=&#34;color: #66d9ef&#34;&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A common pattern in Go (which my setup script demonstrates) is to &lt;a href=&#34;http://code.google.com/p/go-wiki/wiki/GOPATH&#34;&gt;split your code from thirdparty code&lt;/a&gt;. This requires configuring your shell (~/.zshrc, ~/.bashrc):&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;export GOPATH&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;~/go/thirdparty:~/go/sonia
&lt;span style=&#34;color: #f8f8f2&#34;&gt;export PATH&lt;/span&gt;&lt;span style=&#34;color: #f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;${&lt;/span&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;GOPATH//://bin:&lt;/span&gt;&lt;span style=&#34;color: #e6db74&#34;&gt;}&lt;/span&gt;/bin:&lt;span style=&#34;color: #f8f8f2&#34;&gt;$PATH&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then you need to follow the &lt;a href=&#34;https://github.com/hashicorp/terraform&#34;&gt;Terraform instructions&lt;/a&gt; for building, that is:&lt;/p&gt;

&lt;div class=&#34;highlight&#34; style=&#34;background: #272822&#34;&gt;&lt;pre style=&#34;line-height: 125%&#34;&gt;&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ cd&lt;/span&gt; ~/go/thirdparty/src
&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ &lt;/span&gt;go get -u github.com/mitchellh/gox
&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ cd&lt;/span&gt; ~/go/thirdparty/src/github.com/hashicorp/terraform
&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ &lt;/span&gt;make updatedeps
&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ &lt;/span&gt;make dev
&lt;span style=&#34;color: #75715e&#34;&gt;# put the binaries somewhere in your path, eg /usr/local/bin&lt;/span&gt;
&lt;span style=&#34;color: #f8f8f2&#34;&gt;$ &lt;/span&gt;sudo cp bin/terraform* /usr/local/bin
&lt;/pre&gt;&lt;/div&gt;

</description>
    </item>
    
  </channel>
</rss>