



<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <base href="http://localhost:1313/">
    <title> The RAID5 Write Hole </title>
    <link rel="canonical" href="http://localhost:1313/2011/01/14/the-raid5-write-hole/">
    

<link rel="stylesheet" href="http://localhost:1313/css/poole.css">

<link rel="stylesheet" href="http://localhost:1313/css/lanyon.css">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">

</head>


<body class="theme-base-0b">
  


<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">


<div class="sidebar" id="sidebar">

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="http://localhost:1313/">Home</a>
    <a class="sidebar-nav-item" href="http://localhost:1313/posts">Posts by Date</a>
    <a class="sidebar-nav-item" href="http://localhost:1313/categories">Posts by Category</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015 Sonia Hamilton. Powered by <a href="http://hugo.spf13.com">Hugo</a>. Design adapted from <a href="http://lanyon.getpoole.com">Lanyon</a>.
    </p>
  </div>
</div>


  
  <div class="wrap">
    <div class="masthead">
      <div class="container">
        <h3 class="masthead-title">
          <a href="http://localhost:1313/posts" title="Blog">Blog Posts</a>
        </h3>
      </div>
    </div>

    
    <div class="container content">
      <h1 class="post-title">The RAID5 Write Hole</h1>
        <section id="main">
          <h5 id="date"> Fri Jan 14, 2011 </h5>
          <p>The latest edition of the venerable <a href="http://www.amazon.com/UNIX-Linux-System-Administration-Handbook/dp/0131480057/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1294981909&amp;sr=1-1">UNIX and Linux System Administration Handbook</a> (Nemeth et al) has a good section discussing the &#8220;RAID5 Write Hole&#8221;:</p>

<p><em>Finally, RAID 5 is vulnerable to corruption in certain circumstances. Its incremental updating of parity data is more efficient than reading the entire stripe and recalculating the stripe’s parity based on the original data. On the other hand, it means that at no point is parity data ever validated or recalculated. If any block in a stripe should fall out of sync with the parity block, that fact will never become evident in normal use; reads of the data blocks will still return the correct data.</em></p>

<p>**<em>Only when a disk fails does the problem become apparent. The parity block will likely have been rewritten many times since the occurrence of the original desynchronization. Therefore, the reconstructed data block on the replacement disk will consist of essentially random data.</em></p>

<p>Further reading on the <a href="http://www.miracleas.com/BAARF/BAARF2.html">BAARF</a> archive (Battle Against Any Raid 5), including why RAID10 and RAID3 should be chosen over RAID5. And then there&#8217;s <a href="http://blogs.sun.com/bonwick/entry/raid_z">ZFS and RAID-Z</a>.</p>

        </section>

    </div>
  </div>

  <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  

<div class="container">
  <hr />
  
    <span class="left">
    &nbsp; <em>&laquo; Previous:</em> <a class="next" href="http://localhost:1313/2011/01/25/firefox-3-6-new-tab-opening-order-fix/">Firefox 3.6 – new tab opening order – fix</a>
    </span>
  

  
    <span class="right">
    <em>Next: </em><a class="next" href="http://localhost:1313/2011/01/12/using-zfs-on-solaris-to-rapidly-build-systems/"> &nbsp; Using ZFS on Solaris to rapidly build systems</a> &raquo;
    </span>
  
</div>

  <br />
  
<div class="container">
  <ul class="catlist">
    <li><em>Categories: </em></li>
    
      <li><a href="http://localhost:1313/categories/other-tech">Other-Tech</a> </li>
    
  </ul>
</div>



  
  

<div class="container content">
<footer>
  <div>
    <p class="right credit">
    <a href="http://localhost:1313/">Home</a>&nbsp;&nbsp;
    <a href="http://localhost:1313/posts">Posts by Date</a>&nbsp;&nbsp;
    <a href="http://localhost:1313/categories">Posts by Category</a>&nbsp;&nbsp;
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">License</a>
    </p>
  </div>
</footer>
</div>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  
  
  

</script>


<script data-no-instant>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>




